<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../app-storage/app-network-status-behavior.html">
<link rel="import" href="../iron-image/iron-image.html">
<link rel="import" href="../paper-badge/paper-badge.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-menu/paper-menu.html">
<link rel="import" href="../paper-menu-button/paper-menu-button.html">
<link rel="import" href="plutonium-shared-styles.html">
<dom-module id="plutonium-session-info">
    <template>
        <style include="plutonium-shared-styles iron-flex iron-flex-alignment">
            :host {
                @apply(--layout-horizontal);
                @apply(--layout-flex);
            }
        </style>

        <iron-image id="avatar" class="circle" sizing="cover" src="[[user.photoURL]]"></iron-image>

        <div class="layout vertical">
            <span>[[user.displayName]]</span>
            <span>([[user.email]])</span>
        </div>
    </template>
    <script>
        /**
         * `<plutonium-session-info>` is a component for main application header.
         *
         * In typical use, just slap some `<plutonium-session-info>` at the top of your body header:
         *
         *     <body>
         *       <plutonium-session-info></plutonium-session-info>
         *     </body>
         * 
         *  @hero path/to/image
         *  @demo demo/index-session-info.html  Session information panel!
         *  @demo demo/index.html  CRUD operations on firebase demo!
         */
        Polymer({
            is: 'plutonium-session-info',
            properties: {
                /** 
                 * Online indicator. 
                 */
                online: {
                    type: Boolean,
                    notify: true,
                    value: false
                },
                /**
                 * User object.
                 */
                user: {
                    type: Object,
                    notify: true
                }
            },
            /**
             * Compute lock icon.
             *
             * @param {boolean} Sign-in/out indicator.
             * @return {string} Icon name.
             */
            computeLockIcon: function (signedIn) {
                return signedIn ? 'lock-open' : 'lock';
            },
            /**
             * Compute online icon.
             *
             * @param {boolean} Sign-in/out indicator.
             * @return {string} Icon name.
             */
            computeOnlineIcon: function (online) {
                return online ? 'cloud' : 'cloud-off';
            }
        });
    </script>
</dom-module>
